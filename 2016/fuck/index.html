<!-- 模板入口文件 -->
<!DOCTYPE html>
<head>
	<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta http-equiv="Cache-Control" content="no-siteapp"/>
<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<meta name="description" content="v4if" />
<meta name="keywords" content="v4if" />
<meta name="apple-mobile-web-app-title" content="v4if-归心" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<!-- for iOS icons -->
<link rel="apple-touch-icon-precomposed" href="/favicon.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicon.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicon.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/favicon.png">

<meta name="google" value="notranslate" />

<!-- for Android 5 -->
<meta name="theme-color" content="#008FE2" />

<!-- Windows 8 metro color -->
<meta name="msapplication-TileColor" content="#008FE2" /> 

<!-- Windows 8 metro icon -->
<meta name="msapplication-TileImage" content="favicon.png" />

<title>v4if-归心</title>
<link rel="icon" type="image/png" href="/favicon.png" />
<link rel="stylesheet" type="text/css" href="/dist/plane/css/planeui.min.css" />
<link rel="stylesheet" type="text/css" href="/css/index.css" />

</head>
<html>
	<!--[if lte IE 9]>
	<div class="pui-layout pui-browsehappy">
	    <a href="javascript:;" class="pui-close" onclick="document.body.removeChild(this.parentNode);"></a>
	    <p>您正在使用 <strong class="pui-text-yellow pui-text-xl">过时</strong> 的非现代浏览器，<strong class="pui-text-success pui-text-xl">91.23%</strong> 的人选择 <a href="http://browsehappy.com/" target="_blank" class="pui-text-green-400 pui-text-xl"><strong>升级浏览器</strong></a>，获得了更好、更安全的浏览体验！</p>
	</div>
	<![endif]-->

	<a name="top"></a>
	<div class="pui-layout">
	    
<div class="pui-layout page-header">
    <div class="pui-layout pui-layout-fixed pui-layout-fixed-1200">  
        <div class="pui-menubar pui-menubar-square pui-menubar-header-style pui-bg-none pui-unbordered">
            <div class="pui-menubar-aside">
                <h2 class="pui-margin-none pui-text-normal page-title" title="Plane UI">v4if</h2>
            </div>
            <div class="pui-menubar-offside">       
                <ul class="pui-menu pui-menu-inline pui-menu-simple pui-right">
                    <li>
                        <a href="/">首页|Home</a>
                    </li>
                    <li>
                        <a href="/archives">文章|Archives</a>
                    </li>
                    <li>
                        <a href="/about">留言板|Messages</a>
                    </li>
                    <li>
                        <a href="/log">日志|Logs</a>
                    </li>
                </ul>         
            </div>
            <div class="pui-menubar-offside pui-xs-show pui-sm-hide pui-md-hide pui-lg-hide pui-xl-hide pui-xxl-hide"> 
                <a href="javascript:;" title="展开 / 关闭菜单" class="fa fa-list fa-2x"></a>     
            </div>
            <div class="pui-menubar-offside"> 
                <a href="https://www.zhihu.com/people/jichao-wu/" title="知乎" target="_blank" class="fa fa-times-circle fa-2x"></a>     
            </div>
            <div class="pui-menubar-offside"> 
                <a href="https://github.com/v4if" title="Github" target="_blank" class="fa fa-github fa-2x"></a>     
            </div>
        </div>
    </div>
</div>

	    <div class="pui-layout main">
	    	
			<body>


<div class="pui-center pui-layout-fixed pui-layout-fixed-1200 pui-top-container">
    
        <article>
            <header>
                <h1 class="pui-article-title">Fuck</h1>
                <div class="pui-article-subtitle">
                    发表于2016-12-18
                    <div class="pui-font-sizer" target=".pui-article-content > *, section > *">
                        <span class="pui-text-xs" size="default">默认</span>
                        <span class="pui-text-sm" size="14px">小</span>
                        <span class="pui-text-md" size="18px">中</span>
                        <span class="pui-text-lg" size="24px">大</span>
                    </div>
                </div>
            </header>
            <hr class="pui-hr-dashed">
            <div class="pui-article-content">
                <p>经历一次本地文件丢失事故，决定用gitcaffe做全目录git备份！<br>新的起点，Powerd by Plane UI 前端UI设计框架</p>
<p>遇到痛点，自然就是想到解决办法，利用git天然的版本控制系统做文件备份，由于墙内github时不时抽风，采用gitcafe作为备份git服务器，现在已经被coding收购了</p>
<p>在<code>重要</code>目录，需要及时热备份的地方创建<code>hotpatch</code>脚本处理文件，每次版本更新或者文件变动的时候，push最新文件改动，并对每次push的内容打一个时间戳的tag，方便数据灾难或者版本回滚的时候根据tag拉取历史版本</p>
<blockquote>
<p>hotpatch，创建git repository的过程省略了，本文repo的ssh地址为：git@git.coding.net:v4if/hotpatch.git，因此本地需要<code>git remote add origin git@git.coding.net:v4if/hotpatch.git</code>添加远程仓库地址</p>
</blockquote>
<pre><code class="bash">#!/bin/bash
git add .
git commit -m &quot;hotpatch&quot;

tag_name=`date &quot;+V%Y%m%d.T%H%M%S&quot;`
git tag -a ${tag_name} -m &quot;hotpatch&quot;

git push origin master
git push origin --tags
</code></pre>
<p><img src="https://oelwdg5d6.qnssl.com/2016-12-18-223853.png" alt="fuck"></p>
<p>在出现数据灾难或者版本回滚时，根据具体的时间戳tag拉取对应版本，恢复数据</p>
<blockquote>
<p>$ <code>git clone git@git.coding.net:v4if/hotpatch.git</code><br>$ <code>git tag</code> #查看tag<br>$ <code>git checkout tags/&lt;tag_name&gt; -b &lt;branch_name&gt;</code></p>
</blockquote>
<p>血的教训，及时做好重要数据文件的备份！</p>

            </div>
        </article>
    

	
		<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="post-2016/fuck" data-title="Fuck" data-url="https://v4if.github.io/2016/fuck/"></div>
<!-- 多说评论框 end -->
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"zone-atkjest"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

	
</div>

</body>
			
	    </div>
	    <footer class="pui-center pui-layout-fixed pui-layout-fixed-1200">
    <hr />
    <div class="copyright">
        <span class="pui-right pui-xs-show"><a href="#top" class="pui-link">TOP</a></span>
        <p>Copyright &copy; 2016- <a href="https://v4if.github.io" class="pui-link" target="_blank">v4if</a> All Rights Reserved.</p>
        <p>Powered by <a href="https://github.com/pandao/planeui" class="pui-link" target="_blank">Plane UI</a>, <a href="https://hexo.io/zh-cn/" target="_blank" class="pui-link">Hexo</a> .<small class="pui-right">以无法为有法 以无限为有限</small></p>
    </div>
</footer>

<a href="#top" class="fa fa-arrow-circle-up fa-3x pui-text-blue-400" id="go-to-top"></a>

<!--[if (gte IE 9) | !(IE)]><!-->
<script type="text/javascript" src="/dist/jquery/jquery-2.1.1.min.js"></script>
<!--<![endif]-->

<!--[if lt IE 9]>
<script type="text/javascript" src="/dist/jquery/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/dist/plane/js/planeui.patch.ie8.min.js"></script>
<![endif]-->

<!--[if lt IE 10]>
<script type="text/javascript" src="/dist/plane/js/planeui.patch.ie9.min.js"></script>
<![endif]-->
<script type="text/javascript" src="/dist/plane/js/planeui.min.js"></script>
<script>
    $(function(){
        var header  = $(".page-header");
        var goToTop = $("#go-to-top");
        
        $('a[href*="#"]').scrollTo();
        
        $(window).scroll(function() {
            var top = $(this).scrollTop();   
            var heading = $(".banner-con h1");
            var title1 = heading.eq(1);
            var title2 = heading.eq(2);
            var title2 = heading.eq(2);
            var sloganEn = $(".slogan-en");
            
            if (title1.is(":in-viewport")) {
                title1.addClass("pui-animation-expand-in");
            } else {
                title1.removeClass("pui-animation-expand-in");
            }
            
            if (title2.is(":in-viewport")) {
                title2.addClass("pui-animation-slide-left");
            } else {
                title2.removeClass("pui-animation-slide-left");
            }
            
            if (sloganEn.is(":in-viewport")) {
                sloganEn.addClass("pui-animation-slide-right");
            } else {
                sloganEn.removeClass("pui-animation-slide-right");
            }

            if (top > 0) {
                header.css({
                    position: "fixed",
                    top: 0,
                    left: 0,
                    zIndex: 10000,
                    boxShadow : "0 0 5px rgba(0, 0, 0, .5)"
                });
            } else {
                header.css({
                    position: "static",
                    boxShadow : "none"
                });
            }

            if (top > 300) {
                goToTop.fadeIn();
            } else {
                goToTop.fadeOut();
            }
        });
        
        function openMenu() {
            
            if (!$.responsive.xs() && !$.responsive.sm()) {
                return ;
            }
            
            var menu = $(".page-header .pui-menu-simple");
            
            menu.toggleClass("pui-right pui-pos-fixed open");
            header.toggleClass("main-color");
        
            $(".page-header .pui-menu-simple.open").bind("mouseleave", openMenu);
        }
        
        $(".page-header .fa-list").bind("click", openMenu);
    });
</script>

	</div>
</html>
