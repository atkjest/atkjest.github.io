<!-- 模板入口文件 -->
<!DOCTYPE html>
<head>
	<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-siteapp"/>
<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<meta name="description" content="Plane UI" />
<meta name="keywords" content="Plane UI" />
<title>v4if-归心</title>

<link rel="icon" type="image/png" href="/favicon.png" />
<link rel="stylesheet" type="text/css" href="/dist/plane/css/planeui.min.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />

</head>
<html>
        <!--[if lte IE 9]>
        <div class="pui-layout pui-browsehappy">
            <a href="javascript:;" class="pui-close" onclick="document.stybody.removeChild(this.parentNode);"></a>
            <p>您正在使用 <strong class="pui-text-yellow pui-text-xl">过时</strong> 的非现代浏览器，<strong class="pui-text-success pui-text-xl">91.23%</strong> 的人选择 <a href="http://browsehappy.com/" target="_blank" class="pui-text-green-400 pui-text-xl"><strong>升级浏览器</strong></a>，获得了更好、更安全的浏览体验！</p>
        </div>
        <![endif]-->
        <a name="top"></a>
        <a href="#top" class="fa fa-arrow-circle-up fa-3x pui-text-blue-400" id="go-to-top"></a>
		<div class="pui-layout">
			<div class="pui-layout pui-bg-blue-500 blog-header-con">
    <header class="pui-center pui-layout-fixed pui-layout-fixed-1200 blog-header">
        <h2>V4if 's Blog<small class="pui-text-white">website</small></h2>
        <menu class="pui-grid pui-row blog-menu">
            <ul class="pui-menu pui-menu-inline pui-menu-radius pui-grid-xs-12 pui-grid-sm-8 pui-grid-md-8 pui-grid-lg-9 pui-xs-hide">
                <li>
                    <a href="/">首页|Home</a>
                </li>
                <li>
                    <a href="/archives">文章|Archives</a>
                </li>
                <li>
                    <a href="/about">留言板|Messages</a>
                </li>
                <li>
                    <a href="/log">日志|Logs</a>
                </li>
            </ul>
            <div class="pui-menubar-offside pui-menu pui-menu-inline pui-menu-radius pui-right"> 
                <a href="https://www.zhihu.com/people/jichao-wu/" title="知乎" target="_blank" class="fa fa-times-circle fa-2x"><small class="pui-text-white">知乎</small></a>  
                <a href="https://github.com/v4if" title="Github" target="_blank" class="fa fa-github fa-2x"><small class="pui-text-white">GitHub</small></a>        
            </div>
        </menu>
        
        <i class="fa fa-list fa-2x pui-xs-show" id="open-menu"></i>
    </header>
</div> 

			<div class="pui-container pui-layout-fixed pui-layout-fixed-1200 pui-grid blog-main">
				
				<div class="pui-center pui-layout-fixed pui-layout-fixed-1200 pui-top-container">
    
        <article>
            <header>
                <h1 class="pui-article-title">i3wm平铺式桌面管理器</h1>
                <div class="pui-article-subtitle">
                    发表于2016-02-29
                    <div class="pui-font-sizer" target=".pui-article-content > *, section > *">
                        <span class="pui-text-xs" size="default">默认</span>
                        <span class="pui-text-sm" size="14px">小</span>
                        <span class="pui-text-md" size="18px">中</span>
                        <span class="pui-text-lg" size="24px">大</span>
                    </div>
                </div>
            </header>
            <hr class="pui-hr-dashed">
            <div class="pui-article-content">
                <p>i3wm，一款平铺式窗口管理器，轻量、运行速度快，可定制性高，相对于awesome配置简单，上手起来更加容易，而且平铺式管理的效果也比较好，可以参考Arch的wiki  <a href="https://wiki.archlinux.org/index.php/I3" target="_blank" rel="external">https://wiki.archlinux.org/index.php/I3</a><br><a id="more"></a><br>我的电脑最后配置截图<br><img src="http://7xot8c.com1.z0.glb.clouddn.com/2016-03-02-220541_1366x768_scrot.png-rb" alt="i3wm" class="pui-img-article"></p>
<h3 id="安装i3wm"><a href="#安装i3wm" class="headerlink" title="安装i3wm"></a>安装i3wm</h3><p><code>apt-get install i3 feh conky</code></p>
<ul>
<li>i3    我们的窗口管理器</li>
<li>feh    用来设定透明的壁纸</li>
<li>conky 用来代替i3 status，定制电脑信息状态栏</li>
</ul>
<h3 id="常用软件"><a href="#常用软件" class="headerlink" title="常用软件"></a>常用软件</h3><p>i3wm没有提供x session管理器，需要配合一些常用软件获得更好的使用效果</p>
<h4 id="xfce4-terminal"><a href="#xfce4-terminal" class="headerlink" title="xfce4-terminal"></a>xfce4-terminal</h4><p>终端使用xfce的默认终端xfce4-terminal<br><code>apt-get install xfce4-terminal</code></p>
<h4 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h4><p>shell选用zsh，并配置<code>oh-my-zsh</code>，可以参考其GitHub  <a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="external">https://github.com/robbyrussell/oh-my-zsh</a></p>
<pre><code class="bash">apt-get install zsh
chsh -s /bin/zsh
</code></pre>
<h4 id="thunar"><a href="#thunar" class="headerlink" title="thunar"></a>thunar</h4><p>文件管理器选用thunar，安装xfce桌面之后，已经安装了thunar作为file manager</p>
<h4 id="smplayer"><a href="#smplayer" class="headerlink" title="smplayer"></a>smplayer</h4><p>影音播放器选用smplayer<br><code>apt-get install smplayer</code></p>
<h3 id="i3wm配置"><a href="#i3wm配置" class="headerlink" title="i3wm配置"></a>i3wm配置</h3><h4 id="声音管理"><a href="#声音管理" class="headerlink" title="声音管理"></a>声音管理</h4><p>kali下启用声音快捷键需要额外安装alsa-utils，然后在启动i3的时候进行<code>alsactl init</code>初始化</p>
<pre><code class="bash">apt-get install alsa-utils    # 发现alsa-utils没装，装上
alsamixer # 查看也正常，但还是没声音
alsactl init   # 由于升级，可能没初始化，初始化一下试试
</code></pre>
<h3 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h3><p>使用wicd代替NetworkManager，这两个共存会产生冲突，首先需要完全卸载NetworkManager<br><code>apt-get purge network-manager</code><br>然后安装wicd，在kali rolling中用<code>apt-get install wicd</code>安装一直404，于是下载tar包解压安装，参考这里  <a href="http://www.linuxfromscratch.org/blfs/view/svn/basicnet/wicd.html" target="_blank" rel="external">http://www.linuxfromscratch.org/blfs/view/svn/basicnet/wicd.html</a><br>安装完之后重启进来弹出<code>&quot;Could not connect to wicd&#39;s D-Bus interface. Check the wicd log for error messages.&quot;</code>的提示<br>在终端执行<code>update-rc.d wicd defaults</code>重启提示消失</p>
<h3 id="font-awesome"><a href="#font-awesome" class="headerlink" title="font awesome"></a>font awesome</h3><p>下载<code>fontawesome-webfont.ttf</code>放到<code>/usr/share/fonts/truetype/fontawesome/</code>目录下，然后就可以在config里面输入font awesome字体<br>如何输入unicode字符参考Arch Wiki如下：</p>
<pre><code class="bash">Add icons to the format strings in ~/.config/i3status/config using the unicode numbers given in the cheatsheets linked above. The input method will vary between text editors. For instance, to insert the &quot;heart&quot; icon (unicode number f004): 

in various gui text editors (e.g. gedit, Leafpad) and terminals (e.g. GNOME Terminal, xfce4-terminal): ctrl+shift+u, f004, Enter
in Emacs: ctrl+x, 8, Enter, f004, Enter
in Vim (while in insert mode): Ctrl+v, uf004
in urxvt: while holding Ctrl+Shift, type f004
</code></pre>
<h3 id="config配置"><a href="#config配置" class="headerlink" title="config配置"></a>config配置</h3><p>如果找不到自己的i3配置位置是在哪里，可以在终端输入<code>find / -name &quot;i3&quot;</code>命令进行查找，我的电脑查找结果如下：<br><img src="http://7xot8c.com1.z0.glb.clouddn.com/2016-03-02-215954_1366x768_scrot.png-rb" alt="i3-config" class="pui-img-article"><br>这个时候稍微分析一下配置目录肯定位于<code>/root/.config/i3</code><br>贴上自己的config配置</p>
<pre><code class="bash">
# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# =&gt; 开机自启
# 壁纸须先安装feh，并在此指定路径
exec --no-startup-id feh --bg-scale &quot;/root/Pictures/Wallpapers/zoro.jpeg&quot;
# for sound 初始化
exec --no-startup-id alsactl init
# makes i3 beautiful, and painless
exec --no-startup-id gnome-settings-daemon
# wifi manager
# exec --no-startup-id nm-applet
# exec --no-startup-id /etc/init.d/dbus start
# exec --no-startup-id /etc/init.d/wicd start
# exec --no-startup-id wicd-gtk --no-tray  #t
# apt-get remove network-manager
# thunar =&gt;file manager
# smplayer =&gt;media player


set $mod Mod4

# for sound control
bindsym XF86AudioRaiseVolume exec amixer set Master playback 500+
bindsym XF86AudioLowerVolume exec amixer set Master playback 500-
bindsym XF86AudioMute exec amixer set Master toggle

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 10
# 窗口颜色                边框    背景    文字    提示
client.focused          #333333 #333333 #FFFFFF #333333
client.focused_inactive #999999 #999999 #FFFFFF #3399FF
client.unfocused        #999999 #999999 #FFFFFF #3399FF
client.urgent           #990000 #990000 #FFFFFF #990000
client.placeholder      #000000 #000000 #FFFFFF #000000
client.background       #FFFFFF
#屏幕截图
bindsym Print exec scrot -e &#39;mv $f ~/Pictures/&#39;
bindsym --release $mod+Print exec &quot;scrot -s&quot;

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec xfce4-terminal

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+semicolon focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+semicolon move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec &quot;i3-nagbar -t warning -m &#39;You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.&#39; -b &#39;Yes, exit i3&#39; &#39;i3-msg exit&#39;&quot;

# resize window (you can also use the mouse for that)
mode &quot;resize&quot; {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode &quot;default&quot;
        bindsym Escape mode &quot;default&quot;
}

bindsym $mod+r mode &quot;resize&quot;

# =&gt; 系统管理（Pause Break键呼出)
set $mode_system 系统设置:锁屏(L) 注销(O) 关机(S) 重启(R) 取消(Esc)
mode &quot;$mode_system&quot; {
        bindsym l exec i3lock -c &#39;#333333&#39;, exec sleep .1 &amp;&amp; exec xset dpms force off, mode &quot;default&quot;
        bindsym o exec i3-msg exit
        bindsym s exec systemctl poweroff
        bindsym r exec systemctl reboot
        bindsym Escape mode &quot;default&quot;
    bindsym Return mode &quot;default&quot;
}
bindsym Pause mode &quot;$mode_system&quot;

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
    # status_command i3status
    # i3bar调用
        status_command conky -c ~/.config/i3/conkyrc
        tray_output primary         #none | primary
        #mode hide
        workspace_buttons yes
    font pango:monospace 10, FontAwesome 10


    colors {
        background #333333
        statusline #FFFFFF
        #eparator  #3399FF
        # 工作区颜色         边框    背景    文字
        focused_workspace  #111111 #111111 #FFFFFF
        active_workspace   #FFFFFF #FFFFFF #FFFFFF
        inactive_workspace #333333 #333333 #FFFFFF
        urgent_workspace   #990000 #990000 #FFFFFF
        #binding_mode       #990000 #990000 #FFFFFF
    }
}
</code></pre>
<h3 id="conky配置"><a href="#conky配置" class="headerlink" title="conky配置"></a>conky配置</h3><p>我用的conky来代替i3 status作为状态栏的输出，conky配置如下：</p>
<pre><code class="bash"># 不输出到X
out_to_x no
out_to_console yes
background no
double_buffer no

# 刷新时间
update_interval 1
# 运行时间，0为一直运行
total_run_times 0
# 强制uft8编码，需xft支持
override_utf8_locale no
# 缩写单位字符 比如kib-&gt;k Gib-&gt;G 默认为off
short_units yes
# 监视端口
if_up_strictness address
# cpu数据监测模式，一般选2
cpu_avg_samples 2

# wlan0

TEXT
  \
 ${upspeed eth0}/s  ${downspeed eth0}/s \
 ${cpu cpu0}% \
 ${mem} \
 ${fs_used /} \
 ${battery_percent}% \
${execi 1 amixer | grep -A10 &#39;Master&#39; | sed -rn &#39;s/.*\[([0-9]+%)\].*\[(on|off)\]/\2 \1/p&#39; | sed -n &#39;1p&#39; | sed &#39;s/off.*/ /&#39; | sed -r &#39;s/on( [01234]?[0-9]%)/\1/&#39; | sed -r &#39;s/(on|) 0%/ 0%/&#39; | sed -r &#39;s/on//&#39;} \
 ${time %H:%M}
</code></pre>

            </div>
        </article>
    

    <link rel="stylesheet" href="/dist/highlight/tomorrow.css">
    <script src="/dist/highlight/highlight.pack.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

	
		<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="post-2016/i3wm平铺式桌面管理器" data-title="i3wm平铺式桌面管理器" data-url="https://v4if.github.io/2016/i3wm平铺式桌面管理器/"></div>
<!-- 多说评论框 end -->
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"zone-atkjest"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

	
</div>


			</div>
			<footer class="pui-center pui-layout-fixed pui-layout-fixed-1200 blog-footer">
    <hr class="pui-xs-hide" />
    <ul class="pui-breadcrumb pui-margin-none">
        <li>
            <a href="/"><i class="fa fa-home"></i> 首页</a>
        </li>
        <li>
            <a href="/archives">文章|Archives</a>
        </li>
        <li>
            <a href="/about">留言板|Messages</a>
        </li>
        <li>
            <a href="/log">日志|Logs</a>
        </li>
    </ul>
    <div class="copyright">
        <span class="pui-right"><a href="#top" class="pui-link">TOP</a></span>
        <p>Copyright &copy; <a href="https://v4if.github.io" class="pui-link" title="v4if-归心" target="_blank">v4if</a> All Rights Reserved.</p>
        <p>Powered by <a href="https://github.com/pandao/planeui" class="pui-link" target="_blank">Plane UI</a>, <a href="https:https://hexo.io/zh-cn/" target="_blank" class="pui-link">Hexo</a> .<small class="pui-right">化繁为简。</small></p>
    </div>
</footer>


<!--[if (gte IE 9) | !(IE)]><!-->
<script type="text/javascript" src="/dist/jquery/jquery-2.1.1.min.js"></script>
<!--<![endif]-->

<!--[if lt IE 9]>
<script type="text/javascript" src="/dist/jquery/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/dist/plane/js/planeui.patch.ie8.min.js"></script>
<![endif]-->

<!--[if lt IE 10]>
<script type="text/javascript" src="/dist/plane/js/planeui.patch.ie9.min.js"></script>
<![endif]-->
<script type="text/javascript" src="/dist/plane/js/planeui.min.js"></script>

<script>
$(function (){
    
    $("#open-menu").bind($.clickOrTouch(), function() {
        $(".blog-menu > .pui-menu, .blog-search").toggleClass("pui-xs-hide");
    });
    
    $(".pui-search-keywords").bind("click touchend keyup", function(){
        $(".pui-search-auto-complete").removeClass("pui-hide");
    });
    
    $(".pui-search-auto-complete").mouseleave(function(){
        $(this).addClass("pui-hide");
    });
    
    var goToTop = $("#go-to-top");

    goToTop.scrollTo(function(target) {
        console.log(this, target);
    });
    
    $("a[href*=\"#\"]").scrollTo();
    
    var headerCon = $('.blog-header-con');
    var blogMain  = $(".blog-main").children(".pui-row").eq(0);
    var blogSide  = $(".blog-side");
    
    $(window).scroll(function(){
        var top = $(window).scrollTop();
        
        if ($(window).height() <= 360) {
            return ;
        }
        
        if(top > 160) {
            headerCon.css({
                position: "fixed",
                top: 0,
                left: 0,
                zIndex: 1000,
                boxShadow : "0 1px 3px rgba(0,0,0,0.3)"
            });
        } else {
            headerCon.css({
                position  : "static",
                boxShadow : "none"
            });            
        }
        
        if (top > 180) {
            goToTop.fadeIn();
        } else {
            goToTop.fadeOut();
        }
    });
    
});
</script>

		</div>
</html>
